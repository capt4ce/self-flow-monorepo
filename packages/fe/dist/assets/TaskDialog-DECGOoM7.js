import{B as ze,E as Le,r as i,n as e,F as _e,G as ee,H as se,I as oe,J as ae,K as le,M as re,N as Be,V as He,Q as ne,U as Me,W as Qe,X as Fe,Y as ie,Z as qe,_ as te,$ as Ge,a0 as ce,a1 as Ke,a2 as me,a3 as Xe,a4 as de,a5 as Oe,a6 as fe,a7 as ue,a8 as pe,a9 as Ye,f as Je,L as Ne,g as ge,C as xe,aa as be,ab as Ze,R as h}from"./vendor-react-tYkQlTQi.js";import{e as t,g as he,B as u,L as y,I as B,d as R,u as We,D as es,a as ss,b as os,c as as}from"./index-B2yiPlNq.js";import{C as ls,b as rs}from"./card-8r8oBd_e.js";import{l as ns,m as is,n as ts,o as cs,p as ms,q as ds,r as fs,s as us,t as ps,Q as Ns,u as gs,R as xs,h as je,X as bs,f as hs,P as js}from"./vendor-date-charts-B43nfnO2.js";import{b3 as ks,b4 as ke}from"./vendor-DNP07iVI.js";const vs=ze,ws=Le,Ds=_e,ve=i.forwardRef(({className:o,...l},s)=>e.jsxDEV(re,{className:t("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",o),...l,ref:s},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/ui/alert-dialog.tsx",lineNumber:17,columnNumber:3},void 0));ve.displayName=re.displayName;const we=i.forwardRef(({className:o,...l},s)=>e.jsxDEV(Ds,{children:[e.jsxDEV(ve,{},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/ui/alert-dialog.tsx",lineNumber:33,columnNumber:5},void 0),e.jsxDEV(ee,{ref:s,className:t("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",o),style:{backgroundColor:"hsl(var(--background))"},...l},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/ui/alert-dialog.tsx",lineNumber:34,columnNumber:5},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/ui/alert-dialog.tsx",lineNumber:32,columnNumber:3},void 0));we.displayName=ee.displayName;const De=({className:o,...l})=>e.jsxDEV("div",{className:t("flex flex-col space-y-2 text-center sm:text-left",o),...l},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/ui/alert-dialog.tsx",lineNumber:51,columnNumber:3},void 0);De.displayName="AlertDialogHeader";const Ee=({className:o,...l})=>e.jsxDEV("div",{className:t("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",o),...l},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/ui/alert-dialog.tsx",lineNumber:65,columnNumber:3},void 0);Ee.displayName="AlertDialogFooter";const Te=i.forwardRef(({className:o,...l},s)=>e.jsxDEV(se,{ref:s,className:t("text-lg font-semibold",o),...l},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/ui/alert-dialog.tsx",lineNumber:79,columnNumber:3},void 0));Te.displayName=se.displayName;const Ve=i.forwardRef(({className:o,...l},s)=>e.jsxDEV(oe,{ref:s,className:t("text-sm text-muted-foreground",o),...l},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/ui/alert-dialog.tsx",lineNumber:91,columnNumber:3},void 0));Ve.displayName=oe.displayName;const Ue=i.forwardRef(({className:o,...l},s)=>e.jsxDEV(le,{ref:s,className:t(he(),o),...l},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/ui/alert-dialog.tsx",lineNumber:104,columnNumber:3},void 0));Ue.displayName=le.displayName;const ye=i.forwardRef(({className:o,...l},s)=>e.jsxDEV(ae,{ref:s,className:t(he({variant:"outline"}),"mt-2 sm:mt-0",o),...l},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/ui/alert-dialog.tsx",lineNumber:116,columnNumber:3},void 0));ye.displayName=ae.displayName;const z=Be,L=He,P=i.forwardRef(({className:o,children:l,...s},m)=>e.jsxDEV(ne,{ref:m,className:t("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",o),...s,children:[l,e.jsxDEV(Me,{asChild:!0,children:e.jsxDEV(Qe,{className:"h-4 w-4 opacity-50"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/ui/select.tsx",lineNumber:32,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/ui/select.tsx",lineNumber:31,columnNumber:5},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/ui/select.tsx",lineNumber:22,columnNumber:3},void 0));P.displayName=ne.displayName;const Se=i.forwardRef(({className:o,...l},s)=>e.jsxDEV(me,{ref:s,className:t("flex cursor-default items-center justify-center py-1",o),...l,children:e.jsxDEV(Xe,{},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/ui/select.tsx",lineNumber:50,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/ui/select.tsx",lineNumber:42,columnNumber:3},void 0));Se.displayName=me.displayName;const Ce=i.forwardRef(({className:o,...l},s)=>e.jsxDEV(de,{ref:s,className:t("flex cursor-default items-center justify-center py-1",o),...l,children:e.jsxDEV(Oe,{},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/ui/select.tsx",lineNumber:67,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/ui/select.tsx",lineNumber:59,columnNumber:3},void 0));Ce.displayName=de.displayName;const A=i.forwardRef(({className:o,children:l,position:s="popper",...m},b)=>e.jsxDEV(Fe,{children:e.jsxDEV(ie,{ref:b,className:t("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",o),position:s,...m,children:[e.jsxDEV(Se,{},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/ui/select.tsx",lineNumber:89,columnNumber:7},void 0),e.jsxDEV(qe,{className:t("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/ui/select.tsx",lineNumber:90,columnNumber:7},void 0),e.jsxDEV(Ce,{},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/ui/select.tsx",lineNumber:99,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/ui/select.tsx",lineNumber:78,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/ui/select.tsx",lineNumber:77,columnNumber:3},void 0));A.displayName=ie.displayName;const Es=i.forwardRef(({className:o,...l},s)=>e.jsxDEV(fe,{ref:s,className:t("px-2 py-1.5 text-sm font-semibold",o),...l},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/ui/select.tsx",lineNumber:109,columnNumber:3},void 0));Es.displayName=fe.displayName;const f=i.forwardRef(({className:o,children:l,...s},m)=>e.jsxDEV(te,{ref:m,className:t("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",o),...s,children:[e.jsxDEV("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsxDEV(Ge,{children:e.jsxDEV(ce,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/ui/select.tsx",lineNumber:131,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/ui/select.tsx",lineNumber:130,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/ui/select.tsx",lineNumber:129,columnNumber:5},void 0),e.jsxDEV(Ke,{children:l},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/ui/select.tsx",lineNumber:134,columnNumber:5},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/ui/select.tsx",lineNumber:121,columnNumber:3},void 0));f.displayName=te.displayName;const Ts=i.forwardRef(({className:o,...l},s)=>e.jsxDEV(ue,{ref:s,className:t("-mx-1 my-1 h-px bg-muted",o),...l},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/ui/select.tsx",lineNumber:143,columnNumber:3},void 0));Ts.displayName=ue.displayName;const G=i.forwardRef(({className:o,...l},s)=>e.jsxDEV(pe,{ref:s,className:t("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",o),...l,children:e.jsxDEV(Ye,{className:t("flex items-center justify-center text-current"),children:e.jsxDEV(ce,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/ui/checkbox.tsx",lineNumber:22,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/ui/checkbox.tsx",lineNumber:19,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/ui/checkbox.tsx",lineNumber:11,columnNumber:3},void 0));G.displayName=pe.displayName;const Vs=Je,Re=i.forwardRef(({className:o,...l},s)=>e.jsxDEV(Ne,{ref:s,className:t("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",o),...l},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/ui/tabs.tsx",lineNumber:12,columnNumber:3},void 0));Re.displayName=Ne.displayName;const F=i.forwardRef(({className:o,...l},s)=>e.jsxDEV(ge,{ref:s,className:t("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",o),...l},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/ui/tabs.tsx",lineNumber:27,columnNumber:3},void 0));F.displayName=ge.displayName;const q=i.forwardRef(({className:o,...l},s)=>e.jsxDEV(xe,{ref:s,className:t("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",o),...l},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/ui/tabs.tsx",lineNumber:42,columnNumber:3},void 0));q.displayName=xe.displayName;const Ie=i.forwardRef(({className:o,...l},s)=>e.jsxDEV("textarea",{className:t("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",o),ref:s,...l},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/ui/textarea.tsx",lineNumber:10,columnNumber:7},void 0));Ie.displayName="Textarea";const Us=({value:o="",onChange:l=()=>{},placeholder:s="Write something...",minHeight:m="200px"})=>{const[b,S]=i.useState("edit"),j=N=>{l(N)},d=(N,a)=>{const n=document.querySelector("textarea");if(!n)return;const c=n.selectionStart,k=n.selectionEnd,p=n.value.substring(c,k),w=n.value.substring(0,c),v=n.value.substring(k);let T;a&&p?T=w+a[0]+p+a[1]+v:T=w+N+v,j(T),setTimeout(()=>{n.focus();const C=a&&p?c+a[0].length+p.length+a[1].length:c+N.length;n.setSelectionRange(C,C)},0)},E=N=>N.replace(/^### (.+)$/gm,"<h3>$1</h3>").replace(/^## (.+)$/gm,"<h2>$1</h2>").replace(/^# (.+)$/gm,"<h1>$1</h1>").replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").replace(/\*(.+?)\*/g,"<em>$1</em>").replace(/\[(.+?)\]\((.+?)\)/g,'<a href="$2" target="_blank" rel="noopener noreferrer">$1</a>').replace(/^- (.+)$/gm,"<li>$1</li>").replace(/(<li>.+<\/li>\n?)+/g,"<ul>$&</ul>").replace(/^\d+\. (.+)$/gm,"<li>$1</li>").replace(/(<li>.+<\/li>\n?)+/g,"<ol>$&</ol>").replace(/```([\s\S]+?)```/g,"<pre><code>$1</code></pre>").replace(/`(.+?)`/g,"<code>$1</code>").replace(/^> (.+)$/gm,"<blockquote>$1</blockquote>").replace(/\n/g,"<br />");return e.jsxDEV(ls,{className:"w-full bg-background border",children:[e.jsxDEV("div",{className:"p-2 border-b flex flex-wrap gap-1",children:[e.jsxDEV(u,{variant:"ghost",size:"sm",onClick:()=>d("**Bold text**",["**","**"]),title:"Bold",children:e.jsxDEV(ns,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/RichTextEditor.tsx",lineNumber:128,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/RichTextEditor.tsx",lineNumber:122,columnNumber:9},void 0),e.jsxDEV(u,{variant:"ghost",size:"sm",onClick:()=>d("*Italic text*",["*","*"]),title:"Italic",children:e.jsxDEV(is,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/RichTextEditor.tsx",lineNumber:136,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/RichTextEditor.tsx",lineNumber:130,columnNumber:9},void 0),e.jsxDEV(u,{variant:"ghost",size:"sm",onClick:()=>d("# Heading 1"),title:"Heading 1",children:e.jsxDEV(ts,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/RichTextEditor.tsx",lineNumber:144,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/RichTextEditor.tsx",lineNumber:138,columnNumber:9},void 0),e.jsxDEV(u,{variant:"ghost",size:"sm",onClick:()=>d("## Heading 2"),title:"Heading 2",children:e.jsxDEV(cs,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/RichTextEditor.tsx",lineNumber:152,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/RichTextEditor.tsx",lineNumber:146,columnNumber:9},void 0),e.jsxDEV(u,{variant:"ghost",size:"sm",onClick:()=>d("### Heading 3"),title:"Heading 3",children:e.jsxDEV(ms,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/RichTextEditor.tsx",lineNumber:160,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/RichTextEditor.tsx",lineNumber:154,columnNumber:9},void 0),e.jsxDEV(u,{variant:"ghost",size:"sm",onClick:()=>d("- List item"),title:"Unordered List",children:e.jsxDEV(ds,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/RichTextEditor.tsx",lineNumber:168,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/RichTextEditor.tsx",lineNumber:162,columnNumber:9},void 0),e.jsxDEV(u,{variant:"ghost",size:"sm",onClick:()=>d("1. List item"),title:"Ordered List",children:e.jsxDEV(fs,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/RichTextEditor.tsx",lineNumber:176,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/RichTextEditor.tsx",lineNumber:170,columnNumber:9},void 0),e.jsxDEV(u,{variant:"ghost",size:"sm",onClick:()=>d("[Link text](https://example.com)",["[","](https://example.com)"]),title:"Link",children:e.jsxDEV(us,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/RichTextEditor.tsx",lineNumber:189,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/RichTextEditor.tsx",lineNumber:178,columnNumber:9},void 0),e.jsxDEV(u,{variant:"ghost",size:"sm",onClick:()=>d("`Code`",["`","`"]),title:"Inline Code",children:e.jsxDEV(ps,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/RichTextEditor.tsx",lineNumber:197,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/RichTextEditor.tsx",lineNumber:191,columnNumber:9},void 0),e.jsxDEV(u,{variant:"ghost",size:"sm",onClick:()=>d("> Blockquote"),title:"Blockquote",children:e.jsxDEV(Ns,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/RichTextEditor.tsx",lineNumber:205,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/RichTextEditor.tsx",lineNumber:199,columnNumber:9},void 0),e.jsxDEV("div",{className:"ml-auto flex gap-1",children:[e.jsxDEV(u,{variant:"ghost",size:"sm",onClick:()=>{},title:"Undo",children:e.jsxDEV(gs,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/RichTextEditor.tsx",lineNumber:216,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/RichTextEditor.tsx",lineNumber:208,columnNumber:11},void 0),e.jsxDEV(u,{variant:"ghost",size:"sm",onClick:()=>{},title:"Redo",children:e.jsxDEV(xs,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/RichTextEditor.tsx",lineNumber:226,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/RichTextEditor.tsx",lineNumber:218,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/RichTextEditor.tsx",lineNumber:207,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/RichTextEditor.tsx",lineNumber:121,columnNumber:7},void 0),e.jsxDEV(Vs,{value:b,onValueChange:S,className:"w-full",children:[e.jsxDEV("div",{className:"px-4 py-2 border-b",children:e.jsxDEV(Re,{className:"grid w-40 grid-cols-2",children:[e.jsxDEV(F,{value:"edit",children:"Edit"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/RichTextEditor.tsx",lineNumber:234,columnNumber:13},void 0),e.jsxDEV(F,{value:"preview",children:"Preview"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/RichTextEditor.tsx",lineNumber:235,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/RichTextEditor.tsx",lineNumber:233,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/RichTextEditor.tsx",lineNumber:232,columnNumber:9},void 0),e.jsxDEV(rs,{className:"p-0",children:[e.jsxDEV(q,{value:"edit",className:"mt-0 border-none",children:e.jsxDEV(Ie,{value:o,onChange:N=>j(N.target.value),placeholder:s,className:"border-none rounded-none focus-visible:ring-0 min-h-[200px]",style:{minHeight:m}},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/RichTextEditor.tsx",lineNumber:241,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/RichTextEditor.tsx",lineNumber:240,columnNumber:11},void 0),e.jsxDEV(q,{value:"preview",className:"mt-0 border-none",children:e.jsxDEV("div",{className:"p-4 prose prose-sm max-w-none min-h-[200px] whitespace-pre-wrap",style:{minHeight:m},dangerouslySetInnerHTML:{__html:E(o)}},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/RichTextEditor.tsx",lineNumber:250,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/RichTextEditor.tsx",lineNumber:249,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/RichTextEditor.tsx",lineNumber:239,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/RichTextEditor.tsx",lineNumber:231,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/RichTextEditor.tsx",lineNumber:120,columnNumber:5},void 0)},ys=ks("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function W({className:o,variant:l,...s}){return e.jsxDEV("div",{className:t(ys({variant:l}),o),...s},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/ui/badge.tsx",lineNumber:32,columnNumber:5},this)}const Ss=o=>{switch(o){case"high":return"bg-red-100 text-red-800";case"med":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},Cs=o=>{switch(o){case"todo":return"bg-gray-100 text-gray-800";case"in progress":return"bg-blue-100 text-blue-800";case"blocked":return"bg-red-100 text-red-800";case"done":case"completed":return"bg-green-100 text-green-800";case"not done":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},Ms=o=>({Main:"bg-purple-100 text-purple-800",Yearly:"bg-blue-100 text-blue-800",Quarterly:"bg-green-100 text-green-800",Monthly:"bg-yellow-100 text-yellow-800",Weekly:"bg-orange-100 text-orange-800",Daily:"bg-red-100 text-red-800"})[o]||"bg-gray-100 text-gray-800",Qs=o=>{switch(o){case"high":return"bg-purple-100 text-purple-800";case"med":return"bg-pink-100 text-pink-800";case"low":return"bg-indigo-100 text-indigo-800";default:return"bg-gray-100 text-gray-800"}},K=i.forwardRef(({className:o,value:l,...s},m)=>e.jsxDEV(be,{ref:m,className:t("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",o),...s,children:e.jsxDEV(Ze,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(l||0)}%)`}},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/ui/progress.tsx",lineNumber:18,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/ui/progress.tsx",lineNumber:10,columnNumber:3},void 0));K.displayName=be.displayName;const Rs=({label:o,selectedExistingTaskIds:l,setSelectedExistingTaskIds:s})=>{const[m,b]=h.useState(""),[S]=ke(m,1e3),[j,d]=h.useState([]),[E,N]=h.useState(!1),a=async n=>{try{const c=await R.tasks.search(n,{excludeStatus:["completed","not done"],excludeCompleted:!0});d(c.data)}catch(c){console.error("Error fetching available tasks:",c),d([])}};return h.useEffect(()=>{N(!0),a(S).then(()=>N(!1))},[S]),e.jsxDEV(e.Fragment,{children:e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(y,{children:o},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/common/TaskSearch.tsx",lineNumber:51,columnNumber:9},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(je,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/common/TaskSearch.tsx",lineNumber:54,columnNumber:13},void 0),e.jsxDEV(B,{placeholder:"Search tasks...",value:m,onChange:n=>b(n.target.value),className:"pl-10"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/common/TaskSearch.tsx",lineNumber:55,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/common/TaskSearch.tsx",lineNumber:53,columnNumber:11},void 0),e.jsxDEV("div",{className:"max-h-32 overflow-y-auto space-y-1",children:E?e.jsxDEV(K,{},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/common/TaskSearch.tsx",lineNumber:64,columnNumber:15},void 0):j.map(n=>e.jsxDEV("div",{className:"flex items-center space-x-2 p-2 hover:bg-gray-50 rounded",children:[e.jsxDEV(G,{checked:l.includes(n.id),onCheckedChange:c=>{s(c?[...l,n.id]:l.filter(k=>k!==n.id))}},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/common/TaskSearch.tsx",lineNumber:71,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-sm",children:n.title},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/common/TaskSearch.tsx",lineNumber:86,columnNumber:19},void 0)]},n.id,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/common/TaskSearch.tsx",lineNumber:67,columnNumber:17},void 0))},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/common/TaskSearch.tsx",lineNumber:62,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/common/TaskSearch.tsx",lineNumber:52,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/common/TaskSearch.tsx",lineNumber:50,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/common/TaskSearch.tsx",lineNumber:48,columnNumber:5},void 0)},Is=h.memo(Rs),$s=({label:o,selectedParentId:l,setSelectedParentId:s,currentTaskId:m})=>{const[b,S]=h.useState(""),[j]=ke(b,1e3),[d,E]=h.useState([]),[N,a]=h.useState(!1),[n,c]=h.useState(null),k=async p=>{try{let v=(await R.tasks.search(p,{excludeStatus:["completed","not done"],excludeCompleted:!0})).data;m&&(v=v.filter(T=>T.id!==m)),E(v)}catch(w){console.error("Error fetching available tasks:",w),E([])}};return h.useEffect(()=>{a(!0),k(j).then(()=>a(!1))},[j]),h.useEffect(()=>{l?(async()=>{try{const v=(await R.tasks.list(100,0)).data.find(T=>T.id===l);v&&c(v)}catch(w){console.error("Error fetching parent task:",w)}})():c(null)},[l]),e.jsxDEV(e.Fragment,{children:e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(y,{children:o},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/common/ParentTaskSearch.tsx",lineNumber:81,columnNumber:9},void 0),n&&e.jsxDEV("div",{className:"flex items-center justify-between p-2 border rounded",children:[e.jsxDEV("span",{className:"text-sm",children:n.title},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/common/ParentTaskSearch.tsx",lineNumber:84,columnNumber:13},void 0),e.jsxDEV(u,{variant:"ghost",size:"sm",onClick:()=>s(null),children:e.jsxDEV(bs,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/common/ParentTaskSearch.tsx",lineNumber:90,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/common/ParentTaskSearch.tsx",lineNumber:85,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/common/ParentTaskSearch.tsx",lineNumber:83,columnNumber:11},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(je,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/common/ParentTaskSearch.tsx",lineNumber:96,columnNumber:13},void 0),e.jsxDEV(B,{placeholder:"Search tasks...",value:b,onChange:p=>S(p.target.value),className:"pl-10"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/common/ParentTaskSearch.tsx",lineNumber:97,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/common/ParentTaskSearch.tsx",lineNumber:95,columnNumber:11},void 0),e.jsxDEV("div",{className:"max-h-32 overflow-y-auto space-y-1",children:N?e.jsxDEV(K,{},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/common/ParentTaskSearch.tsx",lineNumber:106,columnNumber:15},void 0):d.map(p=>e.jsxDEV("div",{className:"flex items-center justify-between p-2 hover:bg-gray-50 rounded",children:[e.jsxDEV("span",{className:"text-sm",children:p.title},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/common/ParentTaskSearch.tsx",lineNumber:113,columnNumber:19},void 0),e.jsxDEV(u,{variant:"outline",size:"sm",onClick:()=>s(p.id),children:"Select"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/common/ParentTaskSearch.tsx",lineNumber:114,columnNumber:19},void 0)]},p.id,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/common/ParentTaskSearch.tsx",lineNumber:109,columnNumber:17},void 0))},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/common/ParentTaskSearch.tsx",lineNumber:104,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/common/ParentTaskSearch.tsx",lineNumber:94,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/common/ParentTaskSearch.tsx",lineNumber:80,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/common/ParentTaskSearch.tsx",lineNumber:79,columnNumber:5},void 0)},Ps=h.memo($s),As=({open:o,onOpenChange:l,task:s,onSaved:m,createForDate:b})=>{const S=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/,j=r=>typeof r=="string"&&S.test(r)?r:void 0,d=r=>Array.from(new Set(r.filter(g=>typeof g=="string"&&S.test(g)))),E=i.useMemo(()=>{if(b){if(typeof b=="string")return b;try{return hs(b,"yyyy-MM-dd")}catch(r){console.error("Invalid date provided to TaskDialog:",r);return}}},[b]),{user:N}=We(),[a,n]=i.useState(s?{...s,goal_id:s.goal_id,ai_agent:"none",ai_prompt:""}:{title:"",description:"",status:"todo",completed:!1,goal_id:void 0,ai_agent:"none",ai_prompt:""}),[c,k]=i.useState([]),[p,w]=i.useState([]),[v,T]=i.useState(!1),[C,X]=i.useState(!1),[H,O]=i.useState([]),M=()=>{n({title:"",description:"",status:"todo",completed:!1,goal_id:s==null?void 0:s.goal_id,ai_agent:"none",ai_prompt:""}),k([]),w([]),O([])};h.useEffect(()=>{if(s){const r=j(s.goal_id??(s==null?void 0:s.goalId)??null)||void 0;n({...s,goal_id:r}),s.id&&(async()=>{try{const x=await R.tasks.listSubtasks([s.id]);O(x[s.id]||[])}catch(x){console.error("Error fetching subtasks:",x)}})()}else M()},[s]);const Y=async()=>{var r;if(!(!N||!((r=a.title)!=null&&r.trim()))){T(!0);try{const g=a.title;if(!g)return;const x=j(a.goal_id||null),D=j(a.parentId||null),Q=j(a.groupId||null),Ae=j(a.templateId||null),V={title:g,description:a.description||void 0,effort:a.effort||void 0,status:a.status||"todo",priority:a.priority||void 0,parentId:D,goalId:x,groupId:Q,isTemplate:a.isTemplate||!1,completed:a.completed||!1,orderIndex:typeof a.orderIndex=="number"?a.orderIndex:void 0,templateId:Ae},_=d(p),J=d(H.map(I=>I.id));if(a!=null&&a.id){const I=c.filter(U=>U.title.trim()!=="");await R.tasks.update(a.id,{...V,newSubtasks:I.length>0?I.map(U=>({title:U.title,description:U.description||void 0,effort:U.effort||void 0,priority:U.priority||void 0,status:U.status||"todo",goalId:x})):void 0,selectedSubtaskIds:_.length>0?_:void 0,currentSubtaskIds:J.length>0?J:void 0})}else{const I=c.filter($=>$.title.trim()!==""),U=E?void 0:x,Z={title:g,description:V.description,effort:V.effort,status:V.status,priority:V.priority,parentId:V.parentId,goalId:U,groupId:V.groupId,isTemplate:V.isTemplate,completed:V.completed,orderIndex:V.orderIndex,newSubtasks:I.length>0?I.map($=>({title:$.title,description:$.description||void 0,effort:$.effort||void 0,priority:$.priority||void 0,status:$.status||"todo",goalId:U})):void 0,existingSubtaskIds:_.length>0?_:void 0};E?await R.tasks.createForDate(E,Z):await R.tasks.create(Z)}typeof m=="function"&&m(),M(),l(!1)}catch(g){console.error("Error saving task:",g)}finally{T(!1)}}},$e=async()=>{if(a!=null&&a.id){X(!0);try{await R.tasks.delete(a.id),M(),typeof m=="function"?await m():l(!1)}catch(r){console.error("Error deleting task:",r)}finally{X(!1)}}},Pe=r=>{(r.metaKey||r.ctrlKey)&&r.key==="Enter"&&(r.preventDefault(),Y())};return e.jsxDEV(es,{open:o,onOpenChange:l,children:e.jsxDEV(ss,{onKeyDown:Pe,className:"max-w-2xl max-h-[85vh] sm:max-h-[80vh] overflow-y-auto w-[95vw] sm:w-full",children:[e.jsxDEV(os,{children:e.jsxDEV(as,{className:"text-lg sm:text-xl",children:a!=null&&a.id?"Edit Task":"Create New Task"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:325,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:324,columnNumber:9},void 0),e.jsxDEV("div",{className:"space-y-4 py-4",children:[e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(y,{htmlFor:"task-title",children:"Title"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:332,columnNumber:15},void 0),e.jsxDEV(B,{id:"task-title",value:a.title||"",onChange:r=>n({...a,title:r.target.value}),placeholder:"Enter task title"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:333,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:331,columnNumber:13},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(y,{htmlFor:"task-status",children:"Status"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:343,columnNumber:15},void 0),e.jsxDEV(z,{value:a.status||"todo",onValueChange:r=>n({...a,status:r}),children:[e.jsxDEV(P,{children:e.jsxDEV(L,{},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:354,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:353,columnNumber:17},void 0),e.jsxDEV(A,{children:[e.jsxDEV(f,{value:"todo",children:"To Do"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:357,columnNumber:19},void 0),e.jsxDEV(f,{value:"in progress",children:"In Progress"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:358,columnNumber:19},void 0),e.jsxDEV(f,{value:"blocked",children:"Blocked"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:359,columnNumber:19},void 0),e.jsxDEV(f,{value:"completed",children:"Completed"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:360,columnNumber:19},void 0),e.jsxDEV(f,{value:"not done",children:"Not Done"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:361,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:356,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:344,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:342,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:330,columnNumber:11},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(y,{htmlFor:"task-effort",children:"Effort Level"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:368,columnNumber:13},void 0),e.jsxDEV(z,{value:a.effort||"",onValueChange:r=>n({...a,effort:r}),children:[e.jsxDEV(P,{children:e.jsxDEV(L,{placeholder:"Select effort level"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:379,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:378,columnNumber:15},void 0),e.jsxDEV(A,{children:[e.jsxDEV(f,{value:"low",children:"Low"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:382,columnNumber:17},void 0),e.jsxDEV(f,{value:"med",children:"Medium"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:383,columnNumber:17},void 0),e.jsxDEV(f,{value:"high",children:"High"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:384,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:381,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:369,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:367,columnNumber:11},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(y,{htmlFor:"task-priority",children:"Priority"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:390,columnNumber:13},void 0),e.jsxDEV(z,{value:a.priority||"",onValueChange:r=>n({...a,priority:r}),children:[e.jsxDEV(P,{children:e.jsxDEV(L,{placeholder:"Select priority"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:401,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:400,columnNumber:15},void 0),e.jsxDEV(A,{children:[e.jsxDEV(f,{value:"low",children:"Low"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:404,columnNumber:17},void 0),e.jsxDEV(f,{value:"med",children:"Medium"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:405,columnNumber:17},void 0),e.jsxDEV(f,{value:"high",children:"High"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:406,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:403,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:391,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:389,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(G,{id:"is-template",checked:a.isTemplate||!1,onCheckedChange:r=>n({...a,isTemplate:r})},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:412,columnNumber:13},void 0),e.jsxDEV(y,{htmlFor:"is-template",children:"Mark as Template"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:419,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:411,columnNumber:11},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(y,{htmlFor:"task-description",children:"Description"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:423,columnNumber:13},void 0),e.jsxDEV(Us,{value:a.description||"",onChange:r=>n({...a,description:r})},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:424,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:422,columnNumber:11},void 0),H.length>0&&e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(y,{children:"Subtasks"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:435,columnNumber:15},void 0),e.jsxDEV("div",{className:"max-h-40 overflow-y-auto space-y-2 border rounded p-3",children:H.map(r=>e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV("span",{className:`flex-1 text-sm cursor-pointer hover:text-blue-600 ${r.completed?"line-through text-gray-500":""} ${r.status==="not done"?"line-through text-red-500":""}`,children:r.title},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:439,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex gap-1",children:[r.status&&e.jsxDEV(W,{className:`text-xs ${Cs(r.status)}`,children:r.status},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:452,columnNumber:25},void 0),r.effort&&e.jsxDEV(W,{className:`text-xs ${Ss(r.effort)}`,children:r.effort},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:461,columnNumber:25},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:450,columnNumber:21},void 0)]},r.id,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:438,columnNumber:19},void 0))},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:436,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:434,columnNumber:13},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(y,{children:"Quick Add Subtasks"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:478,columnNumber:13},void 0),e.jsxDEV("div",{className:"space-y-2",children:[c.map((r,g)=>e.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-2 items-stretch sm:items-center p-2 border rounded",children:[e.jsxDEV(B,{placeholder:"Subtask title",value:r.title,onChange:x=>{const D=[...c];D[g].title=x.target.value,k(D)},className:"flex-1"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:485,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV(z,{value:r.effort||"",onValueChange:x=>{const D=[...c];D[g].effort=x,k(D)},children:[e.jsxDEV(P,{className:"w-full sm:w-20",children:e.jsxDEV(L,{placeholder:"Effort"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:505,columnNumber:25},void 0)},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:504,columnNumber:23},void 0),e.jsxDEV(A,{children:[e.jsxDEV(f,{value:"low",children:"Low"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:508,columnNumber:25},void 0),e.jsxDEV(f,{value:"med",children:"Med"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:509,columnNumber:25},void 0),e.jsxDEV(f,{value:"high",children:"High"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:510,columnNumber:25},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:507,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:496,columnNumber:21},void 0),e.jsxDEV(z,{value:r.priority||"",onValueChange:x=>{const D=[...c];D[g].priority=x,k(D)},children:[e.jsxDEV(P,{className:"w-full sm:w-20",children:e.jsxDEV(L,{placeholder:"Priority"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:522,columnNumber:25},void 0)},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:521,columnNumber:23},void 0),e.jsxDEV(A,{children:[e.jsxDEV(f,{value:"low",children:"Low"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:525,columnNumber:25},void 0),e.jsxDEV(f,{value:"med",children:"Medium"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:526,columnNumber:25},void 0),e.jsxDEV(f,{value:"high",children:"High"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:527,columnNumber:25},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:524,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:513,columnNumber:21},void 0),e.jsxDEV(u,{variant:"ghost",size:"sm",className:"flex-shrink-0",onClick:()=>{const x=c.filter((D,Q)=>Q!==g);k(x)},children:"Ã—"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:530,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:495,columnNumber:19},void 0)]},g,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:481,columnNumber:17},void 0)),e.jsxDEV(u,{variant:"outline",size:"sm",onClick:()=>k([...c,{title:"",description:"",status:"todo"}]),className:"w-full sm:w-auto",children:[e.jsxDEV(js,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:555,columnNumber:17},void 0),"Add Subtask"]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:544,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:479,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:477,columnNumber:11},void 0),e.jsxDEV(Ps,{label:"Parent Task",selectedParentId:a.parentId||void 0,setSelectedParentId:r=>n({...a,parentId:r||void 0}),currentTaskId:a.id},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:561,columnNumber:11},void 0),e.jsxDEV(Is,{label:"Add Existing Tasks as Subtasks",selectedExistingTaskIds:p,setSelectedExistingTaskIds:w},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:570,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-2",children:[(a==null?void 0:a.id)&&e.jsxDEV(vs,{children:[e.jsxDEV(ws,{asChild:!0,children:e.jsxDEV(u,{type:"button",variant:"destructive",className:"w-full sm:w-auto sm:px-6",disabled:C,children:C?"Deleting...":"Delete Task"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:580,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:579,columnNumber:17},void 0),e.jsxDEV(we,{children:[e.jsxDEV(De,{children:[e.jsxDEV(Te,{children:"Delete Task"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:591,columnNumber:21},void 0),e.jsxDEV(Ve,{children:['Are you sure you want to delete "',a.title,'"? This action cannot be undone.']},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:592,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:590,columnNumber:19},void 0),e.jsxDEV(Ee,{children:[e.jsxDEV(ye,{disabled:C,children:"Cancel"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:598,columnNumber:21},void 0),e.jsxDEV(Ue,{onClick:$e,className:"bg-red-600 hover:bg-red-700",disabled:C,children:C?"Deleting...":"Delete"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:601,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:597,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:589,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:578,columnNumber:15},void 0),e.jsxDEV(u,{onClick:Y,className:"w-full sm:flex-1",disabled:v||C,children:v?"Saving...":a!=null&&a.id?"Save Changes":"Create Task"},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:612,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:576,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:329,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:320,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/ali/projects/self-flow-monorepo/packages/fe/src/components/dialogs/TaskDialog.tsx",lineNumber:319,columnNumber:5},void 0)},Fs=h.memo(As);export{vs as A,W as B,G as C,K as P,Us as R,z as S,Vs as T,Re as a,F as b,q as c,Fs as d,P as e,L as f,A as g,f as h,Cs as i,Ss as j,ws as k,we as l,De as m,Te as n,Ve as o,Ee as p,ye as q,Ue as r,Ms as s,Is as t,Qs as u};
